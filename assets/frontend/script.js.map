{"version":3,"sources":["node_modules/browser-pack/_prelude.js","script.js","assets/src-frontend/external/tabby/tabby.ts","assets/src-frontend/external/tabby/tabby_polyfill.ts","assets/src-frontend/script.ts","assets/src-frontend/tabs/twrp-tab.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","defaults","idPrefix","default","toggle","tab","getAttribute","content","document","querySelector","hash","details","newTab","tabGroup","closest","setAttribute","previousTab","previousContent","hide","removeAttribute","focus","show","event","window","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","emitEvent","switchTabs","key","map","tabs","querySelectorAll","index","Array","prototype","indexOf","getTabsMap","selector","options","settings","tabWrapper","publicAPIs","destroy","forEach","id","slice","destroyTab","documentElement","removeEventListener","clickHandler","keyHandler","setup","matches","setupTab","target","preventDefault","activeElement","merged","arguments","obj","hasOwnProperty","extend","location","loadFromURL","addEventListener","2","Element","msMatchesSelector","webkitMatchesSelector","s","ancestor","this","contains","parentElement","3","./tabs/twrp-tab.ts","4","__importDefault","mod","__esModule","tabby_1","initializeAllTabs","readyState","tabBtnItemActiveClass","tabBtnItemInactiveClass","handleAllAdditionalClasses","allListTabs","updateAdditionalTabClasses","tabList","hasAttribute","inactiveButtons","activeButton","classList","remove","add","targetElement","element","HTMLDocument","btnsWrapper","../external/tabby/tabby","../external/tabby/tabby_polyfill"],"mappings":"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","file":"script.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"// @ts-nocheck\n\n//\n// Variables\n//\n\nconst defaults = {\n\tidPrefix: 'tabby-toggle_',\n\tdefault: '[data-tabby-default]',\n};\n\n//\n// Methods\n//\n\n/**\n * Merge two or more objects together.\n *\n * @param   {Object}   objects  The objects to merge together\n * @return {Object}            Merged values of defaults and options\n */\nconst extend = function() {\n\tconst merged = {};\n\tArray.prototype.forEach.call( arguments, function( obj ) {\n\t\tfor ( const key in obj ) {\n\t\t\tif ( ! obj.hasOwnProperty( key ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmerged[ key ] = obj[ key ];\n\t\t}\n\t} );\n\treturn merged;\n};\n\n/**\n * Emit a custom event\n *\n * @param  {string} type    The event type\n * @param  {Node}   tab     The tab to attach the event to\n * @param  {Node}   details Details about the event\n */\nconst emitEvent = function( tab, details ) {\n\t// Create a new event\n\tlet event;\n\tif ( typeof window.CustomEvent === 'function' ) {\n\t\tevent = new CustomEvent( 'tabby', {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t\tdetail: details,\n\t\t} );\n\t} else {\n\t\tevent = document.createEvent( 'CustomEvent' );\n\t\tevent.initCustomEvent( 'tabby', true, true, details );\n\t}\n\n\t// Dispatch the event\n\ttab.dispatchEvent( event );\n};\n\n/**\n * Remove roles and attributes from a tab and its content\n *\n * @param  {Node}   tab      The tab\n * @param  {Node}   content  The tab content\n * @param  {Object} settings User settings and options\n */\nconst destroyTab = function( tab, content, settings ) {\n\t// Remove the generated ID\n\tif ( tab.id.slice( 0, settings.idPrefix.length ) === settings.idPrefix ) {\n\t\ttab.id = '';\n\t}\n\n\t// Remove roles\n\ttab.removeAttribute( 'role' );\n\ttab.removeAttribute( 'aria-controls' );\n\ttab.removeAttribute( 'aria-selected' );\n\ttab.removeAttribute( 'tabindex' );\n\ttab.closest( 'li' ).removeAttribute( 'role' );\n\tcontent.removeAttribute( 'role' );\n\tcontent.removeAttribute( 'aria-labelledby' );\n\tcontent.removeAttribute( 'hidden' );\n};\n\n/**\n * Add the required roles and attributes to a tab and its content\n *\n * @param  {Node}   tab      The tab\n * @param  {Node}   content  The tab content\n * @param  {Object} settings User settings and options\n */\nconst setupTab = function( tab, content, settings ) {\n\t// Give tab an ID if it doesn't already have one\n\tif ( ! tab.id ) {\n\t\ttab.id = settings.idPrefix + content.id;\n\t}\n\n\t// Add roles\n\ttab.setAttribute( 'role', 'tab' );\n\ttab.setAttribute( 'aria-controls', content.id );\n\ttab.closest( 'li' ).setAttribute( 'role', 'presentation' );\n\tcontent.setAttribute( 'role', 'tabpanel' );\n\tcontent.setAttribute( 'aria-labelledby', tab.id );\n\n\t// Add selected state\n\tif ( tab.matches( settings.default ) ) {\n\t\ttab.setAttribute( 'aria-selected', 'true' );\n\t} else {\n\t\ttab.setAttribute( 'aria-selected', 'false' );\n\t\ttab.setAttribute( 'tabindex', '-1' );\n\t\tcontent.setAttribute( 'hidden', 'hidden' );\n\t}\n};\n\n/**\n * Hide a tab and its content\n *\n * @param  {Node} newTab The new tab that's replacing it\n */\nconst hide = function( newTab ) {\n\t// Variables\n\tconst tabGroup = newTab.closest( '[role=\"tablist\"]' );\n\tif ( ! tabGroup ) {\n\t\treturn {};\n\t}\n\tconst tab = tabGroup.querySelector( '[role=\"tab\"][aria-selected=\"true\"]' );\n\tif ( ! tab ) {\n\t\treturn {};\n\t}\n\tconst content = document.querySelector( tab.hash );\n\n\t// Hide the tab\n\ttab.setAttribute( 'aria-selected', 'false' );\n\ttab.setAttribute( 'tabindex', '-1' );\n\n\t// Hide the content\n\tif ( ! content ) {\n\t\treturn { previousTab: tab };\n\t}\n\tcontent.setAttribute( 'hidden', 'hidden' );\n\n\t// Return the hidden tab and content\n\treturn {\n\t\tpreviousTab: tab,\n\t\tpreviousContent: content,\n\t};\n};\n\n/**\n * Show a tab and its content\n *\n * @param  {Node} tab      The tab\n * @param  {Node} content  The tab content\n */\nconst show = function( tab, content ) {\n\ttab.setAttribute( 'aria-selected', 'true' );\n\ttab.setAttribute( 'tabindex', '0' );\n\tcontent.removeAttribute( 'hidden' );\n\ttab.focus();\n};\n\n/**\n * Toggle a new tab\n *\n * @param  {Node} tab The tab to show\n */\nconst toggle = function( tab ) {\n\t// Make sure there's a tab to toggle and it's not already active\n\tif ( ! tab || tab.getAttribute( 'aria-selected' ) == 'true' ) {\n\t\treturn;\n\t}\n\n\t// Variables\n\tconst content = document.querySelector( tab.hash );\n\tif ( ! content ) {\n\t\treturn;\n\t}\n\n\t// Hide active tab and content\n\tconst details = hide( tab );\n\n\t// Show new tab and content\n\tshow( tab, content );\n\n\t// Add event details\n\tdetails.tab = tab;\n\tdetails.content = content;\n\n\t// Emit a custom event\n\temitEvent( tab, details );\n};\n\n/**\n * Get all of the tabs in a tablist\n *\n * @param  {Node}   tab  A tab from the list\n * @return {Object}      The tabs and the index of the currently active one\n */\nconst getTabsMap = function( tab ) {\n\tconst tabGroup = tab.closest( '[role=\"tablist\"]' );\n\tconst tabs = tabGroup ? tabGroup.querySelectorAll( '[role=\"tab\"]' ) : null;\n\tif ( ! tabs ) {\n\t\treturn;\n\t}\n\treturn {\n\t\ttabs,\n\t\tindex: Array.prototype.indexOf.call( tabs, tab ),\n\t};\n};\n\n/**\n * Switch the active tab based on keyboard activity\n *\n * @param  {Node} tab The currently active tab\n * @param  {Key}  key The key that was pressed\n */\nconst switchTabs = function( tab, key ) {\n\t// Get a map of tabs\n\tconst map = getTabsMap( tab );\n\tif ( ! map ) {\n\t\treturn;\n\t}\n\tconst length = map.tabs.length - 1;\n\tlet index;\n\n\t// Go to previous tab\n\tif ( [ 'ArrowUp', 'ArrowLeft', 'Up', 'Left' ].indexOf( key ) > -1 ) {\n\t\tindex = map.index < 1 ? length : map.index - 1;\n\t}\n\n\t// Go to next tab\n\telse if ( [ 'ArrowDown', 'ArrowRight', 'Down', 'Right' ].indexOf( key ) > -1 ) {\n\t\tindex = map.index === length ? 0 : map.index + 1;\n\t}\n\n\t// Go to home\n\telse if ( key === 'Home' ) {\n\t\tindex = 0;\n\t}\n\n\t// Go to end\n\telse if ( key === 'End' ) {\n\t\tindex = length;\n\t}\n\n\t// Toggle the tab\n\ttoggle( map.tabs[ index ] );\n};\n\n/**\n * Activate a tab based on the URL\n *\n * @param  {string} selector The selector for this instantiation\n */\nconst loadFromURL = function( selector ) {\n\tif ( window.location.hash.length < 1 ) {\n\t\treturn;\n\t}\n\tconst tab = document.querySelector( selector + ' [role=\"tab\"][href*=\"' + window.location.hash + '\"]' );\n\ttoggle( tab );\n};\n\n/**\n * Create the Constructor object\n */\nconst Constructor = function( selector, options ) {\n\t//\n\t// Variables\n\t//\n\n\tconst publicAPIs = {};\n\tlet settings, tabWrapper;\n\n\t//\n\t// Methods\n\t//\n\n\tpublicAPIs.destroy = function() {\n\t\t// Get all tabs\n\t\tconst tabs = tabWrapper.querySelectorAll( 'a' );\n\n\t\t// Add roles to tabs\n\t\tArray.prototype.forEach.call( tabs, function( tab ) {\n\t\t\t// Get the tab content\n\t\t\tconst content = document.querySelector( tab.hash );\n\t\t\tif ( ! content ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Setup the tab\n\t\t\tdestroyTab( tab, content, settings );\n\t\t} );\n\n\t\t// Remove role from wrapper\n\t\ttabWrapper.removeAttribute( 'role' );\n\n\t\t// Remove event listeners\n\t\tdocument.documentElement.removeEventListener( 'click', clickHandler, true );\n\t\ttabWrapper.removeEventListener( 'keydown', keyHandler, true );\n\n\t\t// Reset variables\n\t\tsettings = null;\n\t\ttabWrapper = null;\n\t};\n\n\t/**\n\t * Setup the DOM with the proper attributes\n\t */\n\tpublicAPIs.setup = function() {\n\t\t// Variables\n\t\ttabWrapper = document.querySelector( selector );\n\t\tif ( ! tabWrapper ) {\n\t\t\treturn;\n\t\t}\n\t\tconst tabs = tabWrapper.querySelectorAll( 'a' );\n\n\t\t// Add role to wrapper\n\t\ttabWrapper.setAttribute( 'role', 'tablist' );\n\n\t\t// Add roles to tabs\n\t\tArray.prototype.forEach.call( tabs, function( tab ) {\n\t\t\t// Get the tab content\n\t\t\tconst content = document.querySelector( tab.hash );\n\t\t\tif ( ! content ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Setup the tab\n\t\t\tsetupTab( tab, content, settings );\n\t\t} );\n\t};\n\n\t/**\n\t * Toggle a tab based on an ID\n\t *\n\t * @param  {string|Node} id The tab to toggle\n\t */\n\tpublicAPIs.toggle = function( id ) {\n\t\t// Get the tab\n\t\tlet tab = id;\n\t\tif ( typeof id === 'string' ) {\n\t\t\ttab = document.querySelector( selector + ' [role=\"tab\"][href*=\"' + id + '\"]' );\n\t\t}\n\n\t\t// Toggle the tab\n\t\ttoggle( tab );\n\t};\n\n\t/**\n\t * Handle click events\n\t */\n\tvar clickHandler = function( event ) {\n\t\t// Only run on toggles\n\t\tconst tab = event.target.closest( selector + ' [role=\"tab\"]' );\n\t\tif ( ! tab ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Prevent link behavior\n\t\tevent.preventDefault();\n\n\t\t// Toggle the tab\n\t\ttoggle( tab );\n\t};\n\n\t/**\n\t * Handle keydown events\n\t */\n\tvar keyHandler = function( event ) {\n\t\t// Only run if a tab is in focus\n\t\tconst tab = document.activeElement;\n\t\tif ( ! tab.matches( selector + ' [role=\"tab\"]' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only run for specific keys\n\t\tif ( [ 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Up', 'Down', 'Left', 'Right', 'Home', 'End' ].indexOf( event.key ) < 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Switch tabs\n\t\tswitchTabs( tab, event.key );\n\t};\n\n\t/**\n\t * Initialize the instance\n\t */\n\tconst init = function() {\n\t\t// Merge user options with defaults\n\t\tsettings = extend( defaults, options || {} );\n\n\t\t// Setup the DOM\n\t\tpublicAPIs.setup();\n\n\t\t// Load a tab from the URL\n\t\tloadFromURL( selector );\n\n\t\t// Add event listeners\n\t\tdocument.documentElement.addEventListener( 'click', clickHandler, true );\n\t\ttabWrapper.addEventListener( 'keydown', keyHandler, true );\n\t};\n\n\t//\n\t// Initialize and return the Public APIs\n\t//\n\n\tinit();\n\treturn publicAPIs;\n};\n\n//\n// Return the Constructor\n//\n\nexport default Constructor;\n","// Element.closest() polyfill\nif ( ! Element.prototype.closest ) {\n\tif ( ! Element.prototype.matches ) {\n\t\t// @ts-ignore\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\tElement.prototype.closest = function( s: any ) {\n\t\tconst el = this;\n\t\tlet ancestor = this;\n\t\tif ( ! document.documentElement.contains( el ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tdo {\n\t\t\tif ( ancestor.matches( s ) ) {\n\t\t\t\treturn ancestor;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tancestor = ancestor.parentElement;\n\t\t} while ( ancestor !== null );\n\t\treturn null;\n\t};\n}\n","import './tabs/twrp-tab.ts';\n\nexport default {};\n","import '../external/tabby/tabby_polyfill';\nimport Tabby from '../external/tabby/tabby';\n\nlet tabs;\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', initializeAllTabs );\n} else {\n\tinitializeAllTabs();\n}\n\nfunction initializeAllTabs() {\n\t// @ts-ignore -- No Tabby type declared yet.\n\ttabs = new Tabby( '[data-twrp-tabs-btns]', {\n\t\tidPrefix: 'twrp-tabby__',\n\t\tdefault: '[data-twrp-default-tab]',\n\t} );\n}\n\n// #region -- Add Active/Inactive Classes to Tab Items.\n\nconst tabBtnItemActiveClass = 'twrp-tab__btn-item-active';\nconst tabBtnItemInactiveClass = 'twrp-tab__btn-item-inactive';\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', handleAllAdditionalClasses );\n} else {\n\thandleAllAdditionalClasses();\n}\n\ndocument.addEventListener( 'tabby', handleAdditionalActiveClassesToTabs );\n\nfunction handleAllAdditionalClasses() {\n\tconst allListTabs = document.querySelectorAll( '[data-twrp-tabs-btns]' );\n\n\tfor ( let i = 0; i < allListTabs.length; i++ ) {\n\t\tupdateAdditionalTabClasses( allListTabs[ i ] );\n\t}\n}\n\nfunction handleAdditionalActiveClassesToTabs( event: Event ) {\n\tconst targetElement = event.target as HTMLElement;\n\n\tif ( ! isElement( targetElement ) ) {\n\t\treturn;\n\t}\n\n\tconst btnsWrapper = targetElement.closest( '[data-twrp-tabs-btns]' );\n\n\tif ( ! btnsWrapper ) {\n\t\treturn;\n\t}\n\n\tupdateAdditionalTabClasses( btnsWrapper );\n}\n\nfunction updateAdditionalTabClasses( tabList: Element ) {\n\tif ( ! tabList.hasAttribute( 'data-twrp-tabs-btns' ) ) {\n\t\treturn;\n\t}\n\n\tconst inactiveButtons = tabList.querySelectorAll( '[aria-selected=\"false\"]' );\n\tconst activeButton = tabList.querySelectorAll( '[aria-selected=\"true\"]' );\n\n\tfor ( let i = 0; i < inactiveButtons.length; i++ ) {\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tinactiveButtons[ i ].parentElement.classList.remove( tabBtnItemActiveClass );\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tinactiveButtons[ i ].parentElement.classList.add( tabBtnItemInactiveClass );\n\t}\n\n\tfor ( let i = 0; i < activeButton.length; i++ ) {\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tactiveButton[ i ].parentElement.classList.remove( tabBtnItemInactiveClass );\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tactiveButton[ i ].parentElement.classList.add( tabBtnItemActiveClass );\n\t}\n}\n\n// #endregion -- Add Active/Inactive Classes to Tab Items.\n\n// #region -- Helpers.\n\nfunction isElement( element: unknown ): boolean {\n\treturn element instanceof Element || element instanceof HTMLDocument;\n}\n\nfunction isNodeList( nodes: any ): boolean {\n\tconst stringRepresentation = Object.prototype.toString.call( nodes );\n\n\treturn typeof nodes === 'object' &&\n        /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test( stringRepresentation ) &&\n        nodes.hasOwnProperty( 'length' ) &&\n        ( nodes.length === 0 || ( typeof nodes[ 0 ] === 'object' && nodes[ 0 ].nodeType > 0 ) );\n}\n\n// #endregion -- Helpers.\n"]}