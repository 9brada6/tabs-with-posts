{"version":3,"sources":["node_modules/browser-pack/_prelude.js","script.js","assets/src-frontend/article-blocks/article-blocks.ts","assets/src-frontend/external/tabby/tabby.ts","assets/src-frontend/external/tabby/tabby_polyfill.ts","assets/src-frontend/script.ts","assets/src-frontend/tabs/twrp-tab.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","document","addEventListener","target","Element","nodeName","getAttribute","closest","preventDefault","2","Object","defineProperty","value","defaults","idPrefix","default","toggle","tab","content","querySelector","hash","details","newTab","tabGroup","setAttribute","previousTab","previousContent","hide","removeAttribute","focus","show","event","window","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","emitEvent","switchTabs","key","map","tabs","querySelectorAll","index","Array","prototype","indexOf","getTabsMap","selector","options","settings","tabWrapper","publicAPIs","destroy","forEach","id","slice","destroyTab","documentElement","removeEventListener","clickHandler","keyHandler","setup","matches","setupTab","activeElement","merged","arguments","obj","hasOwnProperty","extend","location","loadFromURL","3","msMatchesSelector","webkitMatchesSelector","s","ancestor","this","contains","parentElement","4","./article-blocks/article-blocks","./tabs/twrp-tab.ts","5","__importDefault","mod","__esModule","tabby_1","initializeAllTabs","allTabs","_loop_1","tabsWrapper","tabSelectorId","setTimeout","push","readyState","tabBtnItemActiveClass","tabBtnItemInactiveClass","handleAllAdditionalClasses","allListTabs","updateAdditionalTabClasses","tabList","hasAttribute","inactiveButtons","activeButton","classList","remove","add","targetElement","element","HTMLDocument","btnsWrapper","showMoreWrapperClassName","toRemove","parentNode","removeChild","../external/tabby/tabby","../external/tabby/tabby_polyfill"],"mappings":"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","file":"script.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"\ndocument.addEventListener( 'click', handlePrivatePostClicked );\nfunction handlePrivatePostClicked( e: MouseEvent ) {\n\tif ( ! e.target || ! ( e.target instanceof Element ) ) {\n\t\treturn;\n\t}\n\tconst target: Element = e.target;\n\n\tif ( target.nodeName !== 'A' ) {\n\t\treturn;\n\t}\n\n\tif ( '#' !== target.getAttribute( 'href' ) ) {\n\t\treturn;\n\t}\n\n\tif ( null === target.closest( '.twrp-block' ) ) {\n\t\treturn;\n\t}\n\n\te.preventDefault();\n}\n","// @ts-nocheck\n/* eslint-disable */\n// Version 12.0.3\n\n//\n// Variables\n//\n\nconst defaults = {\n\tidPrefix: 'tabby-toggle_',\n\tdefault: '[data-tabby-default]',\n};\n\n//\n// Methods\n//\n\n/**\n * Merge two or more objects together.\n *\n * @param   {Object}   objects  The objects to merge together\n * @return {Object}            Merged values of defaults and options\n */\nconst extend = function() {\n\tconst merged = {};\n\tArray.prototype.forEach.call( arguments, function( obj ) {\n\t\tfor ( const key in obj ) {\n\t\t\tif ( ! obj.hasOwnProperty( key ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmerged[ key ] = obj[ key ];\n\t\t}\n\t} );\n\treturn merged;\n};\n\n/**\n * Emit a custom event\n *\n * @param  {string} type    The event type\n * @param  {Node}   tab     The tab to attach the event to\n * @param  {Node}   details Details about the event\n */\nconst emitEvent = function( tab, details ) {\n\t// Create a new event\n\tlet event;\n\tif ( typeof window.CustomEvent === 'function' ) {\n\t\tevent = new CustomEvent( 'tabby', {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t\tdetail: details,\n\t\t} );\n\t} else {\n\t\tevent = document.createEvent( 'CustomEvent' );\n\t\tevent.initCustomEvent( 'tabby', true, true, details );\n\t}\n\n\t// Dispatch the event\n\ttab.dispatchEvent( event );\n};\n\n/**\n * Remove roles and attributes from a tab and its content\n *\n * @param  {Node}   tab      The tab\n * @param  {Node}   content  The tab content\n * @param  {Object} settings User settings and options\n */\nconst destroyTab = function( tab, content, settings ) {\n\t// Remove the generated ID\n\tif ( tab.id.slice( 0, settings.idPrefix.length ) === settings.idPrefix ) {\n\t\ttab.id = '';\n\t}\n\n\t// Remove roles\n\ttab.removeAttribute( 'role' );\n\ttab.removeAttribute( 'aria-controls' );\n\ttab.removeAttribute( 'aria-selected' );\n\ttab.removeAttribute( 'tabindex' );\n\ttab.closest( 'li' ).removeAttribute( 'role' );\n\tcontent.removeAttribute( 'role' );\n\tcontent.removeAttribute( 'aria-labelledby' );\n\tcontent.removeAttribute( 'hidden' );\n};\n\n/**\n * Add the required roles and attributes to a tab and its content\n *\n * @param  {Node}   tab      The tab\n * @param  {Node}   content  The tab content\n * @param  {Object} settings User settings and options\n */\nconst setupTab = function( tab, content, settings ) {\n\t// Give tab an ID if it doesn't already have one\n\tif ( ! tab.id ) {\n\t\ttab.id = settings.idPrefix + content.id;\n\t}\n\n\t// Add roles\n\ttab.setAttribute( 'role', 'tab' );\n\ttab.setAttribute( 'aria-controls', content.id );\n\ttab.closest( 'li' ).setAttribute( 'role', 'presentation' );\n\tcontent.setAttribute( 'role', 'tabpanel' );\n\tcontent.setAttribute( 'aria-labelledby', tab.id );\n\n\t// Add selected state\n\tif ( tab.matches( settings.default ) ) {\n\t\ttab.setAttribute( 'aria-selected', 'true' );\n\t} else {\n\t\ttab.setAttribute( 'aria-selected', 'false' );\n\t\ttab.setAttribute( 'tabindex', '-1' );\n\t\tcontent.setAttribute( 'hidden', 'hidden' );\n\t}\n};\n\n/**\n * Hide a tab and its content\n *\n * @param  {Node} newTab The new tab that's replacing it\n */\nconst hide = function( newTab ) {\n\t// Variables\n\tconst tabGroup = newTab.closest( '[role=\"tablist\"]' );\n\tif ( ! tabGroup ) {\n\t\treturn {};\n\t}\n\tconst tab = tabGroup.querySelector( '[role=\"tab\"][aria-selected=\"true\"]' );\n\tif ( ! tab ) {\n\t\treturn {};\n\t}\n\tconst content = document.querySelector( tab.hash );\n\n\t// Hide the tab\n\ttab.setAttribute( 'aria-selected', 'false' );\n\ttab.setAttribute( 'tabindex', '-1' );\n\n\t// Hide the content\n\tif ( ! content ) {\n\t\treturn { previousTab: tab };\n\t}\n\tcontent.setAttribute( 'hidden', 'hidden' );\n\n\t// Return the hidden tab and content\n\treturn {\n\t\tpreviousTab: tab,\n\t\tpreviousContent: content,\n\t};\n};\n\n/**\n * Show a tab and its content\n *\n * @param  {Node} tab      The tab\n * @param  {Node} content  The tab content\n */\nconst show = function( tab, content ) {\n\ttab.setAttribute( 'aria-selected', 'true' );\n\ttab.setAttribute( 'tabindex', '0' );\n\tcontent.removeAttribute( 'hidden' );\n\ttab.focus();\n};\n\n/**\n * Toggle a new tab\n *\n * @param  {Node} tab The tab to show\n */\nconst toggle = function( tab ) {\n\t// Make sure there's a tab to toggle and it's not already active\n\tif ( ! tab || tab.getAttribute( 'aria-selected' ) == 'true' ) {\n\t\treturn;\n\t}\n\n\t// Variables\n\tconst content = document.querySelector( tab.hash );\n\tif ( ! content ) {\n\t\treturn;\n\t}\n\n\t// Hide active tab and content\n\tconst details = hide( tab );\n\n\t// Show new tab and content\n\tshow( tab, content );\n\n\t// Add event details\n\tdetails.tab = tab;\n\tdetails.content = content;\n\n\t// Emit a custom event\n\temitEvent( tab, details );\n};\n\n/**\n * Get all of the tabs in a tablist\n *\n * @param  {Node}   tab  A tab from the list\n * @return {Object}      The tabs and the index of the currently active one\n */\nconst getTabsMap = function( tab ) {\n\tconst tabGroup = tab.closest( '[role=\"tablist\"]' );\n\tconst tabs = tabGroup ? tabGroup.querySelectorAll( '[role=\"tab\"]' ) : null;\n\tif ( ! tabs ) {\n\t\treturn;\n\t}\n\treturn {\n\t\ttabs,\n\t\tindex: Array.prototype.indexOf.call( tabs, tab ),\n\t};\n};\n\n/**\n * Switch the active tab based on keyboard activity\n *\n * @param  {Node} tab The currently active tab\n * @param  {Key}  key The key that was pressed\n */\nconst switchTabs = function( tab, key ) {\n\t// Get a map of tabs\n\tconst map = getTabsMap( tab );\n\tif ( ! map ) {\n\t\treturn;\n\t}\n\tconst length = map.tabs.length - 1;\n\tlet index;\n\n\t// Go to previous tab\n\tif ( [ 'ArrowUp', 'ArrowLeft', 'Up', 'Left' ].indexOf( key ) > -1 ) {\n\t\tindex = map.index < 1 ? length : map.index - 1;\n\t}\n\n\t// Go to next tab\n\telse if ( [ 'ArrowDown', 'ArrowRight', 'Down', 'Right' ].indexOf( key ) > -1 ) {\n\t\tindex = map.index === length ? 0 : map.index + 1;\n\t}\n\n\t// Go to home\n\telse if ( key === 'Home' ) {\n\t\tindex = 0;\n\t}\n\n\t// Go to end\n\telse if ( key === 'End' ) {\n\t\tindex = length;\n\t}\n\n\t// Toggle the tab\n\ttoggle( map.tabs[ index ] );\n};\n\n/**\n * Activate a tab based on the URL\n *\n * @param  {string} selector The selector for this instantiation\n */\nconst loadFromURL = function( selector ) {\n\tif ( window.location.hash.length < 1 ) {\n\t\treturn;\n\t}\n\tconst tab = document.querySelector( selector + ' [role=\"tab\"][href*=\"' + window.location.hash + '\"]' );\n\ttoggle( tab );\n};\n\n/**\n * Create the Constructor object\n */\nconst Constructor = function( selector, options ) {\n\t//\n\t// Variables\n\t//\n\n\tconst publicAPIs = {};\n\tlet settings, tabWrapper;\n\n\t//\n\t// Methods\n\t//\n\n\tpublicAPIs.destroy = function() {\n\t\t// Get all tabs\n\t\tconst tabs = tabWrapper.querySelectorAll( 'a' );\n\n\t\t// Add roles to tabs\n\t\tArray.prototype.forEach.call( tabs, function( tab ) {\n\t\t\t// Get the tab content\n\t\t\tconst content = document.querySelector( tab.hash );\n\t\t\tif ( ! content ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Setup the tab\n\t\t\tdestroyTab( tab, content, settings );\n\t\t} );\n\n\t\t// Remove role from wrapper\n\t\ttabWrapper.removeAttribute( 'role' );\n\n\t\t// Remove event listeners\n\t\tdocument.documentElement.removeEventListener( 'click', clickHandler, true );\n\t\ttabWrapper.removeEventListener( 'keydown', keyHandler, true );\n\n\t\t// Reset variables\n\t\tsettings = null;\n\t\ttabWrapper = null;\n\t};\n\n\t/**\n\t * Setup the DOM with the proper attributes\n\t */\n\tpublicAPIs.setup = function() {\n\t\t// Variables\n\t\ttabWrapper = document.querySelector( selector );\n\t\tif ( ! tabWrapper ) {\n\t\t\treturn;\n\t\t}\n\t\tconst tabs = tabWrapper.querySelectorAll( 'a' );\n\n\t\t// Add role to wrapper\n\t\ttabWrapper.setAttribute( 'role', 'tablist' );\n\n\t\t// Add roles to tabs\n\t\tArray.prototype.forEach.call( tabs, function( tab ) {\n\t\t\t// Get the tab content\n\t\t\tconst content = document.querySelector( tab.hash );\n\t\t\tif ( ! content ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Setup the tab\n\t\t\tsetupTab( tab, content, settings );\n\t\t} );\n\t};\n\n\t/**\n\t * Toggle a tab based on an ID\n\t *\n\t * @param  {string|Node} id The tab to toggle\n\t */\n\tpublicAPIs.toggle = function( id ) {\n\t\t// Get the tab\n\t\tlet tab = id;\n\t\tif ( typeof id === 'string' ) {\n\t\t\ttab = document.querySelector( selector + ' [role=\"tab\"][href*=\"' + id + '\"]' );\n\t\t}\n\n\t\t// Toggle the tab\n\t\ttoggle( tab );\n\t};\n\n\t/**\n\t * Handle click events\n\t */\n\tvar clickHandler = function( event ) {\n\t\t// Only run on toggles\n\t\tconst tab = event.target.closest( selector + ' [role=\"tab\"]' );\n\t\tif ( ! tab ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Prevent link behavior\n\t\tevent.preventDefault();\n\n\t\t// Toggle the tab\n\t\ttoggle( tab );\n\t};\n\n\t/**\n\t * Handle keydown events\n\t */\n\tvar keyHandler = function( event ) {\n\t\t// Only run if a tab is in focus\n\t\tconst tab = document.activeElement;\n\t\tif ( ! tab.matches( selector + ' [role=\"tab\"]' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only run for specific keys\n\t\tif ( [ 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Up', 'Down', 'Left', 'Right', 'Home', 'End' ].indexOf( event.key ) < 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Switch tabs\n\t\tswitchTabs( tab, event.key );\n\t};\n\n\t/**\n\t * Initialize the instance\n\t */\n\tconst init = function() {\n\t\t// Merge user options with defaults\n\t\tsettings = extend( defaults, options || {} );\n\n\t\t// Setup the DOM\n\t\tpublicAPIs.setup();\n\n\t\t// Load a tab from the URL\n\t\tloadFromURL( selector );\n\n\t\t// Add event listeners\n\t\tdocument.documentElement.addEventListener( 'click', clickHandler, true );\n\t\ttabWrapper.addEventListener( 'keydown', keyHandler, true );\n\t};\n\n\t//\n\t// Initialize and return the Public APIs\n\t//\n\n\tinit();\n\treturn publicAPIs;\n};\n\n//\n// Return the Constructor\n//\n\nexport default Constructor;\n","// Element.closest() polyfill\nif ( ! Element.prototype.closest ) {\n\tif ( ! Element.prototype.matches ) {\n\t\t// @ts-ignore\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\tElement.prototype.closest = function( s: any ) {\n\t\tconst el = this;\n\t\tlet ancestor = this;\n\t\tif ( ! document.documentElement.contains( el ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tdo {\n\t\t\tif ( ancestor.matches( s ) ) {\n\t\t\t\treturn ancestor;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tancestor = ancestor.parentElement;\n\t\t} while ( ancestor !== null );\n\t\treturn null;\n\t};\n}\n","import './tabs/twrp-tab.ts';\nimport './article-blocks/article-blocks';\n\nexport default {};\n","import '../external/tabby/tabby_polyfill';\nimport Tabby from '../external/tabby/tabby';\n\nconst tabs: any = [];\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', initializeAllTabs );\n} else {\n\tinitializeAllTabs();\n}\n\nfunction initializeAllTabs() {\n\tconst allTabs = document.querySelectorAll( '[data-twrp-tabs-btns]' );\n\n\tif ( allTabs.length === 0 ) {\n\t\treturn;\n\t}\n\n\tfor ( let i = 0; i < allTabs.length; i++ ) {\n\t\tconst element = allTabs[ i ];\n\t\tconst tabsWrapper = element.closest( '.twrp-main' );\n\t\tif ( tabsWrapper === null ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst tabId = tabsWrapper.getAttribute( 'id' );\n\t\tconst tabSelectorId = '#' + tabId + ' [data-twrp-tabs-btns]';\n\n\t\tsetTimeout( function() {\n\t\t\t// @ts-ignore -- No Tabby type declared yet.\n\t\t\ttabs.push( new Tabby( tabSelectorId, {\n\t\t\t\tidPrefix: 'twrp-tabby__',\n\t\t\t\tdefault: '[data-twrp-default-tab]',\n\t\t\t} ) );\n\t\t}, 0 );\n\t}\n}\n\n// #region -- Add Active/Inactive Classes to Tab Items.\n\nconst tabBtnItemActiveClass = 'twrp-main__btn-item--active';\nconst tabBtnItemInactiveClass = 'twrp-main__btn-item--inactive';\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', handleAllAdditionalClasses );\n} else {\n\thandleAllAdditionalClasses();\n}\n\nfunction handleAllAdditionalClasses() {\n\tconst allListTabs = document.querySelectorAll( '[data-twrp-tabs-btns]' );\n\n\tfor ( let i = 0; i < allListTabs.length; i++ ) {\n\t\tupdateAdditionalTabClasses( allListTabs[ i ] );\n\t}\n}\n\ndocument.addEventListener( 'tabby', handleAdditionalActiveClassesToTabs );\n\nfunction handleAdditionalActiveClassesToTabs( event: Event ) {\n\tconst targetElement = event.target as HTMLElement;\n\n\tif ( ! isElement( targetElement ) ) {\n\t\treturn;\n\t}\n\n\tconst btnsWrapper = targetElement.closest( '[data-twrp-tabs-btns]' );\n\n\tif ( ! btnsWrapper ) {\n\t\treturn;\n\t}\n\n\tupdateAdditionalTabClasses( btnsWrapper );\n}\n\nfunction updateAdditionalTabClasses( tabList: Element ) {\n\tif ( ! tabList.hasAttribute( 'data-twrp-tabs-btns' ) ) {\n\t\treturn;\n\t}\n\n\tconst inactiveButtons = tabList.querySelectorAll( '[aria-selected=\"false\"]' );\n\tconst activeButton = tabList.querySelectorAll( '[aria-selected=\"true\"]' );\n\n\tfor ( let i = 0; i < inactiveButtons.length; i++ ) {\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tinactiveButtons[ i ].parentElement.classList.remove( tabBtnItemActiveClass );\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tinactiveButtons[ i ].parentElement.classList.add( tabBtnItemInactiveClass );\n\t}\n\n\tfor ( let i = 0; i < activeButton.length; i++ ) {\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tactiveButton[ i ].parentElement.classList.remove( tabBtnItemInactiveClass );\n\t\t// @ts-ignore -- Parent element is not null.\n\t\tactiveButton[ i ].parentElement.classList.add( tabBtnItemActiveClass );\n\t}\n}\n\n// #endregion -- Add Active/Inactive Classes to Tab Items.\n\n// #region -- Show more pages button\n\nconst showMoreWrapperClassName = 'twrp-next-page';\nconst showMoreButtonClassName = 'twrp-next-page__btn';\n\ndocument.addEventListener( 'click', handleMorePostsBtnClick );\n\nfunction handleMorePostsBtnClick( e: Event ) {\n\tconst target = e.target;\n\tif ( ! ( target instanceof Element ) ) {\n\t\treturn;\n\t}\n\n\tif ( target.classList.contains( showMoreWrapperClassName ) || target.classList.contains( showMoreButtonClassName ) ) {\n\t\tconst toRemove = target.closest( '.' + showMoreWrapperClassName );\n\t\tif ( toRemove !== null ) {\n\t\t\t// @ts-ignore -- Parent Node is not null.\n\t\t\ttoRemove.parentNode.removeChild( toRemove );\n\t\t}\n\t}\n}\n\n// #endregion -- Show more pages button\n\n// #region -- Helpers.\n\nfunction isElement( element: unknown ): boolean {\n\treturn element instanceof Element || element instanceof HTMLDocument;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction isNodeList( nodes: any ): boolean {\n\tconst stringRepresentation = Object.prototype.toString.call( nodes );\n\n\treturn typeof nodes === 'object' &&\n        /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test( stringRepresentation ) &&\n        nodes.hasOwnProperty( 'length' ) &&\n        ( nodes.length === 0 || ( typeof nodes[ 0 ] === 'object' && nodes[ 0 ].nodeType > 0 ) );\n}\n\n// #endregion -- Helpers.\n"]}